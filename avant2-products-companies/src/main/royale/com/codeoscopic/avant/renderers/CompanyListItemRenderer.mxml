<?xml version="1.0" encoding="utf-8"?>
<!--

	Copyright (C) 2020, Codeoscopic S.A. - All Rights Reserved
	Unauthorized copying of this file, via any medium is strictly prohibited
	Proprietary and confidential

	Copyright (C) 2020, Codeoscopic S.A. - Todos Los Derechos Reservados
	La copia no autorizada de este archivo, a través de cualquier medio está estrictamente prohibida
	Privado y confidencial

-->
<j:ListItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:j="library://ns.apache.org/royale/jewel" 
    xmlns:js="library://ns.apache.org/royale/basic" 
    maxHeight="{RENDER_NORMAL_HEIGHT}" click="changeHeight()" className="product-renderer">

    <fx:Script>
        <![CDATA[
            import com.codeoscopic.avant.vos.Company;

            public static const RENDER_NORMAL_HEIGHT:int = 92;
            
            [Bindable("dataChange")]
            public function get company():Company
            {
                return data as Company;
            }
            
            public function changeHeight():void
            {
                maxHeight = maxHeight == RENDER_NORMAL_HEIGHT ? 500 : RENDER_NORMAL_HEIGHT;
            }
		]]>
    </fx:Script>

    <j:beads>
        <js:ItemRendererDataBinding />
        <j:VerticalLayout gap="6"/>
        <j:Paddings padding="12"/>
    </j:beads>

    <j:HGroup gap="8" itemsVerticalAlign="itemsCenter" width="100%">
        <j:Image width="150" height="60" src="{company.logo}"/>
        
        <j:VGroup width="100%" minWidth="210">
            <j:Label text="{company.name}" className="primary-darkest weight-bold">
                <j:beads>
                    <j:SizeControl size="{SizeControl.XLARGE}"/>
                </j:beads>
            </j:Label>
        </j:VGroup>

        <j:Label text="{company.products.length + ' producto' + (company.products.length == 1 ? '' : 's')}"
            maxWidth="140" className="companies-number-tag">
            <j:beads>
                <j:SizeControl size="{SizeControl.LARGE}"/>
            </j:beads>
        </j:Label>

        <js:FontAwesomeIcon text="{FontAwesome5IconType.ELLIPSIS_V}" width="24" 
            relativeSize="{FontAwesomeIcon.SIZE_X2}" faStyle="{FontAwesomeIcon.LIGHT}">
            <js:beads>
                <j:Paddings paddingRight="24"/>
            </js:beads>
        </js:FontAwesomeIcon>

    </j:HGroup>

    <j:HGroup width="100%">
        <j:Spacer width="200"/>
        <j:DataContainer localId="companies" width="100%" minWidth="365"
                dataProvider="{company.products}" labelField="name"
                itemRenderer="com.codeoscopic.avant.renderers.ProductDataContainerItemRenderer">
            <j:beads>
                <j:TileHorizontalLayout columnWidth="92" rowHeight="92"
                                    horizontalGap="16" verticalGap="16"/>
                <js:BrowserResizeListener/>
            </j:beads>
        </j:DataContainer>
    </j:HGroup>

</j:ListItemRenderer>

